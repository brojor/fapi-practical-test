(function(e){function t(t){for(var r,c,u=t[0],i=t[1],s=t[2],d=0,l=[];d<u.length;d++)c=u[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&l.push(a[c][0]),a[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);p&&p(t);while(l.length)l.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},c={app:0},a={app:0},o=[];function u(e){return i.p+"js/"+({recapitulation:"recapitulation"}[e]||e)+"."+{recapitulation:"6a9fc497"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={recapitulation:1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var r="css/"+({recapitulation:"recapitulation"}[e]||e)+"."+{recapitulation:"042bc2e5"}[e]+".css",a=i.p+r,o=document.getElementsByTagName("link"),u=0;u<o.length;u++){var s=o[u],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===r||d===a))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){s=l[u],d=s.getAttribute("data-href");if(d===r||d===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete c[e],p.parentNode.removeChild(p),n(o)},p.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){c[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=o);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=u(e);var l=new Error;s=function(t){d.onerror=d.onload=null,clearTimeout(p);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",l.name="ChunkLoadError",l.type=r,l.request=c,n[1](l)}a[e]=void 0}};var p=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/fapi-practical-test/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var p=d;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07c8":function(e,t,n){"use strict";n("3ba1")},2022:function(e,t,n){},3e3:function(e,t,n){"use strict";n("f28f")},3296:function(e,t,n){var r={"./avocado.jpeg":"54a1","./cherry.jpeg":"56ff","./donuts.jpeg":"383e","./tangerine.jpeg":"4414"};function c(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}c.keys=function(){return Object.keys(r)},c.resolve=a,e.exports=c,c.id="3296"},"383e":function(e,t,n){e.exports=n.p+"img/donuts.67149cec.jpeg"},"3ba1":function(e,t,n){},"40a4":function(e,t,n){"use strict";n("7767")},"43cd":function(e,t,n){"use strict";n("8619")},4414:function(e,t,n){e.exports=n.p+"img/tangerine.581a816c.jpeg"},"4bf7":function(e,t,n){},"54a1":function(e,t,n){e.exports=n.p+"img/avocado.bc6274a3.jpeg"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function c(e,t,n,c,a,o){var u=Object(r["w"])("MyHeader"),i=Object(r["w"])("router-view"),s=Object(r["w"])("MyFooter");return Object(r["p"])(),Object(r["d"])(r["a"],null,[Object(r["g"])(u),Object(r["g"])(i),Object(r["g"])(s)],64)}var a=Object(r["E"])("data-v-540a2ee3");Object(r["s"])("data-v-540a2ee3");var o=Object(r["g"])("h1",null,[Object(r["f"])("FAPI "),Object(r["g"])("span",{class:"no-mobile"},"- praktický test")],-1),u={class:"total-price"};Object(r["q"])();var i=a((function(e,t,n,c,i,s){var d=Object(r["w"])("router-link");return Object(r["p"])(),Object(r["d"])("header",null,[Object(r["g"])(d,{to:"/"},{default:a((function(){return[o]})),_:1}),Object(r["g"])("h1",u,"Celkem: "+Object(r["y"])(s.totalPrice),1)])})),s={computed:{totalPrice:function(){return this.$store.getters.totalPrice}}};n("40a4");s.render=i,s.__scopeId="data-v-540a2ee3";var d=s,l=Object(r["E"])("data-v-d338c160");Object(r["s"])("data-v-d338c160");var p=Object(r["g"])("p",null,[Object(r["f"])("Coded with ❤ by "),Object(r["g"])("b",null,"brojor")],-1);Object(r["q"])();var f=l((function(e,t,n,c,a,o){return Object(r["p"])(),Object(r["d"])("footer",null,[p])})),m={};n("75e3");m.render=f,m.__scopeId="data-v-d338c160";var b=m,v={components:{MyHeader:d,MyFooter:b}};n("43cd");v.render=c;var h=v,j=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),O={class:"home"},g={class:"left-side"},y={class:"right-side"};function E(e,t,n,c,a,o){var u=Object(r["w"])("LoginForm"),i=Object(r["w"])("Products");return Object(r["p"])(),Object(r["d"])("div",O,[Object(r["g"])("div",g,[Object(r["g"])(u)]),Object(r["g"])("div",y,[Object(r["g"])(i,{class:"products"})])])}var C=Object(r["g"])("p",{class:"message"}," Vyplňte prosím své základní údaje, jakmile zpracujeme Vaši objednávku, budeme Vás kontaktovat. ",-1);function k(e,t,n,c,a,o){var u=Object(r["w"])("FormItem");return Object(r["p"])(),Object(r["d"])("form",{action:"",class:"container",onSubmit:t[2]||(t[2]=Object(r["D"])((function(){}),["prevent"]))},[C,(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(a.form,(function(e,t,n){return Object(r["p"])(),Object(r["d"])(u,{key:n,type:t,formItemData:e,onValChange:function(e){return a.form[t].value=e}},null,8,["type","formItemData","onValChange"])})),128)),Object(r["g"])("button",{onClick:t[1]||(t[1]=function(){return o.submit&&o.submit.apply(o,arguments)})},"Odeslat")],32)}n("07ac"),n("159b"),n("b64b");var _=Object(r["E"])("data-v-2263cbb8");Object(r["s"])("data-v-2263cbb8");var T={key:0,class:"error"};Object(r["q"])();var w=_((function(e,t,n,c,a,o){return Object(r["p"])(),Object(r["d"])(r["a"],null,[Object(r["g"])("label",{for:n.type},[Object(r["C"])(Object(r["g"])("input",{type:"text",name:n.type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.val=e}),placeholder:n.formItemData.placeholder},null,8,["name","placeholder"]),[[r["A"],o.val]])],8,["for"]),n.formItemData.error?(Object(r["p"])(),Object(r["d"])("p",T,Object(r["y"])(n.formItemData.error),1)):Object(r["e"])("",!0)],64)})),x={props:["type","formItemData"],computed:{val:{get:function(){return this.formItemData.value},set:function(e){this.$emit("valChange",e)}}}};n("07c8");x.render=w,x.__scopeId="data-v-2263cbb8";var A=x,R={name:"login",components:{FormItem:A},data:function(){return{form:{fullName:{value:"",error:"",placeholder:"Jméno a příjmení"},email:{value:"",error:"",placeholder:"E-mail"},phone:{value:"",error:"",placeholder:"Telefon"}}}},computed:{error:function(){return Object.values(this.form).some((function(e){return e.error.length>0}))}},methods:{removeErrors:function(){var e=this;Object.keys(this.form).forEach((function(t){e.form[t].error=""}))},submit:function(){var e=this;this.removeErrors(),this.validateFullName(),this.validateEmail(),this.validatePhone(),this.error||setTimeout((function(){e.sendData()}),100)},sendData:function(){var e=this,t=Object.keys(this.form).reduce((function(t,n){return t[n]=e.form[n].value,t}),{});t.cart=this.$store.state.cart,alert("Validace úspěšná - odesílám následující data:\n".concat(JSON.stringify(t,null,4))),this.$router.push("recapitulation")},validateFullName:function(){var e=/^[a-žA-Ž]+ [a-žA-Ž]+$/;e.test(this.form.fullName.value)||(this.form.fullName.error="Není uvedeno platné jméno a příjmení")},validateEmail:function(){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;e.test(this.form.email.value)||(this.form.email.error="E-mailová adresa je zadaná chybně")},validatePhone:function(){var e=/^(\+420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/;e.test(this.form.phone.value)||(this.form.phone.error="Telefonní číslo je zadáno chybně")}}};n("fd83");R.render=k;var N=R,P=Object(r["E"])("data-v-daa7aa22");Object(r["s"])("data-v-daa7aa22");var D={class:"products-container"};Object(r["q"])();var I=P((function(e,t,n,c,a,o){var u=Object(r["w"])("ProductItem");return Object(r["p"])(),Object(r["d"])("div",D,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(o.products,(function(e){return Object(r["p"])(),Object(r["d"])(u,{key:e.id,product:e},null,8,["product"])})),128))])})),S=(n("b0c0"),n("b680"),{class:"product-item"}),M={class:"product-image"},F={class:"product-text"},z={class:"product-text-left"},V={class:"product-title"},q={class:"product-text-right"},U={class:"total-price"};function $(e,t,c,a,o,u){var i=Object(r["w"])("QuantityChanger");return Object(r["p"])(),Object(r["d"])("div",S,[Object(r["g"])("div",M,[Object(r["g"])("img",{src:n("3296")("./"+c.product.img),alt:"".concat(c.product.name," (produktová fotografie)")},null,8,["src","alt"])]),Object(r["g"])("div",F,[Object(r["g"])("div",z,[Object(r["g"])("div",V,Object(r["y"])(c.product.name),1),Object(r["g"])(i,{amount:o.amount,onChangeVal:t[1]||(t[1]=function(e){return o.amount=e})},null,8,["amount"])]),Object(r["g"])("div",q,[Object(r["g"])("div",null,[Object(r["g"])("p",null,"Bez DPH: "+Object(r["y"])(u.priceWithoutTax(c.product.price).toFixed(2))+" Kč",1),Object(r["g"])("p",null,"S DPH: "+Object(r["y"])(c.product.price.toFixed(2))+" Kč",1)]),Object(r["g"])("div",U,[Object(r["g"])("p",null,"Celkem: "+Object(r["y"])((c.product.price*o.amount).toFixed(2))+" Kč",1)])])])])}var L=Object(r["E"])("data-v-1a3d1b9e");Object(r["s"])("data-v-1a3d1b9e");var H={class:"quantity-changer"},K=Object(r["g"])("p",null,"Počet kusů:",-1);Object(r["q"])();var B=L((function(e,t,n,c,a,o){return Object(r["p"])(),Object(r["d"])("div",H,[K,Object(r["g"])("div",{class:"btn decrease",onClick:t[1]||(t[1]=function(){return o.decrease&&o.decrease.apply(o,arguments)})},"-"),Object(r["C"])(Object(r["g"])("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.itemAmount=e})},null,512),[[r["A"],o.itemAmount]]),Object(r["g"])("div",{class:"btn increase",onClick:t[3]||(t[3]=function(){return o.increase&&o.increase.apply(o,arguments)})},"+")])})),J=(n("a9e3"),{props:["amount"],computed:{itemAmount:{get:function(){return this.amount},set:function(e){this.$emit("changeVal",Number(e))}}},methods:{increase:function(){this.itemAmount+=1},decrease:function(){0!==this.itemAmount&&(this.itemAmount-=1)}}});n("6859");J.render=B,J.__scopeId="data-v-1a3d1b9e";var Y=J,Z={components:{QuantityChanger:Y},props:["product"],data:function(){return{amount:0}},methods:{priceWithoutTax:function(e){return e-e/100*21}},watch:{amount:function(e,t){0===t?this.$store.dispatch("addToCart",this.product.id):0===e?this.$store.commit("REMOVE_FROM_CART",this.product.id):this.$store.commit("MUTATE_AMOUNT",{itemId:this.product.id,newValue:this.amount})}}};n("c989");Z.render=$;var Q=Z,W={components:{ProductItem:Q},computed:{products:function(){return this.$store.state.products}}};n("3000");W.render=I,W.__scopeId="data-v-daa7aa22";var G=W,X={name:"Home",components:{LoginForm:N,Products:G},created:function(){this.$store.dispatch("fetchExhangeRates")}};n("e340");X.render=E;var ee=X,te=[{path:"/",name:"Home",component:ee},{path:"/recapitulation",name:"Recapitulation",component:function(){return n.e("recapitulation").then(n.bind(null,"49ea"))}}],ne=Object(j["a"])({history:Object(j["b"])("/fapi-practical-test/"),routes:te}),re=ne,ce=n("2909"),ae=(n("4de4"),n("7db0"),n("99af"),n("5502"));n("ac1f"),n("5319"),n("fb6a"),n("1276"),n("d81d");function oe(e,t){switch(e){case"exchangeRate":return Number(t.replace(",","."));case"quantity":return Number(t);default:return t}}function ue(e){var t=e.split("\n").slice(2);t.pop();var n=["country","currency","quantity","code","exchangeRate"];return t.map((function(e){return e.split("|").reduce((function(e,t,r){var c=n[r],a=oe(c,t);return e[c]=a,e}),{})}))}var ie="https://thingproxy.freeboard.io/fetch/",se="https://www.cnb.cz/cs/financni-trhy/devizovy-trh/kurzy-devizoveho-trhu/kurzy-devizoveho-trhu/denni_kurz.txt",de=Object(ae["a"])({state:{products:[{id:1,name:"Donut",price:29.9,img:"donuts.jpeg"},{id:2,name:"Třešně",price:69.9,img:"cherry.jpeg"},{id:3,name:"Mandarinka",price:49.9,img:"tangerine.jpeg"},{id:4,name:"Avokádo",price:24.9,img:"avocado.jpeg"}],cart:[],currencies:[],selectedCurrency:{country:"Česká Republika",currency:"koruna",quantity:1,code:"CZK",exchangeRate:1}},mutations:{ADD_TO_CART:function(e,t){e.cart.push(t)},REMOVE_FROM_CART:function(e,t){e.cart=e.cart.filter((function(e){return e.id!==t}))},MUTATE_AMOUNT:function(e,t){var n=t.itemId,r=t.newValue,c=e.cart.find((function(e){return e.id===n}));c.amount=Number(r)},SET_CURRENCY_RATES:function(e,t){console.log({rates:t});var n={country:"Česká Republika",currency:"koruna",quantity:1,code:"CZK",exchangeRate:1};e.currencies=[n].concat(Object(ce["a"])(t))},SET_SELECTED_CURRENCY:function(e,t){e.selectedCurrency=t}},actions:{addToCart:function(e,t){var n=e.state,r=e.commit,c=n.products.find((function(e){return e.id===t})),a=c.id,o=c.name,u=c.price;r("ADD_TO_CART",{id:a,name:o,price:u,amount:1})},fetchExhangeRates:function(e){var t=e.commit;fetch("".concat(ie).concat(se)).then((function(e){return e.text()})).then((function(e){var n=ue(e);t("SET_CURRENCY_RATES",n)}))},changeCurrence:function(e,t){var n=e.state,r=e.commit;console.log({code:t});var c=n.currencies.find((function(e){return e.code===t}));console.log({selectedCurrency:c}),r("SET_SELECTED_CURRENCY",c)}},getters:{totalPrice:function(e){var t=e.cart.reduce((function(t,n){var r=e.selectedCurrency,c=r.exchangeRate,a=r.quantity;return t+n.price/c*n.amount*a}),0);return"".concat(t.toFixed(2)," ").concat(e.selectedCurrency.code)}}});Object(r["c"])(h).use(de).use(de).use(re).mount("#app")},"56ff":function(e,t,n){e.exports=n.p+"img/cherry.f5af006a.jpeg"},6859:function(e,t,n){"use strict";n("812c")},"75e3":function(e,t,n){"use strict";n("2022")},7767:function(e,t,n){},"812c":function(e,t,n){},8619:function(e,t,n){},"8b53":function(e,t,n){},c989:function(e,t,n){"use strict";n("8b53")},e340:function(e,t,n){"use strict";n("e8a4")},e8a4:function(e,t,n){},f28f:function(e,t,n){},fd83:function(e,t,n){"use strict";n("4bf7")}});
//# sourceMappingURL=app.8c878192.js.map